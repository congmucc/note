# 多线程



## 1. 进程和线程：

1. 线程是由进程创建的， 是进程的一个实体， 例如idm是一个进程， idm的一个下载就是一个线程

2. 一个线程可以有多个进程

## 2. 并发和并行：

![image-20230624002437394](assets/image-20230624002437394.png)

## 3. 创建线程的两种方式：

1. 继承Thread类， 重写run方法
2. 实现Runnable接口， 重写run方法

## 4. 线程的常用方法：

1. setName //设置线程名称， 使之与参数name相同

2. getName //返回该线程的名称

3. start //使该线程开始执行; Java 虚拟机底层调用该线程的startO方法

4. run //调用线程对象run方法;

5. setPriority //更改线程的优先级

6. getPriority //获取线程的优先级

7. sleep//在指定的毫秒数内让当前正在执行的线程休眠(暂停执行)

8. interrupt //中断线程

9. **yield:线程的礼让。让出cpu,让其他线程执行，**

   **但礼让的时间不确定，所以也不一定礼让成功**

10. **join:线程的插队。插队的线程一 旦插队成功，则肯定**
    **先执行完插入的线程所有的任务**

#### 守护线程和用户线程：

1. 用户线程: 也叫工作线程，当线程的任务执行完或通知方式结束
2. 守护线程: 一般是为工作线程服务的，**当所有的用户线程结束，守护线程自动结束**
3. 常见的守护线程:垃圾回收机制

```
        // 如果我们希望当main线程结束后,子线程自动结束
        // 只需要将子线程设为守护线程即可   设置的时候要在 start() 前面
        myDaemonThread.setDaemon(true); // 设置守护线程
        myDaemonThread.start();
```



