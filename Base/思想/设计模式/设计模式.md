## **1. 单例模式（Singleton Pattern）**

### **面试题：**

- **什么是单例模式？如何实现单例模式？**  
    **回答：** 确保一个类在全局范围内只有一个实例，并提供全局访问点。常见实现包括饿汉式、懒汉式、双重检查锁、静态内部类、枚举单例。
    
- **饿汉式和懒汉式的区别？**  
    **回答：** 饿汉式类加载时创建实例，线程安全但可能浪费资源；懒汉式首次使用时创建，但需加锁保证线程安全。
    
- **如何防止单例被反射和序列化破坏？**  
    **回答：** 在构造方法中防止反射调用，并实现 `readResolve()` 防止反序列化创建新对象。
    

### **业务场景：**

- **数据库连接池管理**：数据库连接是昂贵资源，单例模式确保只有一个 `ConnectionPool` 实例，减少连接开销。
- **日志管理**：全局只有一个 `Logger` 实例，避免多个日志实例导致文件冲突。
- **线程池管理**：确保线程池实例唯一，避免频繁创建销毁线程带来的资源浪费。
    

---

## **2. 工厂模式（Factory Pattern）**

### **面试题：**

- **工厂模式的作用是什么？有哪些类型？**  
    **回答：** 工厂模式用于封装对象创建逻辑，主要包括简单工厂、工厂方法、抽象工厂。
    
- **工厂方法和简单工厂的区别？**  
    **回答：**
    - **简单工厂**：一个工厂类创建所有对象，不符合开闭原则。
    - **工厂方法**：每个产品有一个工厂，符合开闭原则，易扩展。

### **业务场景：**

- **数据库驱动管理**：不同数据库（MySQL、PostgreSQL、Oracle）实现 `DatabaseFactory`，客户端调用统一接口。
- **支付系统**：`PaymentFactory` 生成不同支付方式（微信支付、支付宝、银联）。
- **日志框架（如 SLF4J）**：支持多种日志实现（Log4j、Logback），使用工厂模式动态选择。

---

## **3. 代理模式（Proxy Pattern）**

### **面试题：**

- **代理模式的作用是什么？**  
    **回答：** 代理模式用于控制对象访问，可增强功能（如权限控制、日志、事务）。
    
- **JDK 动态代理和 CGLIB 代理的区别？**  
    **回答：**
    
    - **JDK 动态代理**：基于 `InvocationHandler`，只能代理接口。
        
    - **CGLIB 代理**：基于字节码增强，可以代理类，但不能代理 `final` 方法。
        

### **业务场景：**

- **Spring AOP 事务管理**：代理 `Service` 方法，自动开启/提交事务。
    
- **RPC 远程调用**：动态代理封装网络通信逻辑，让调用方像本地调用一样使用远程服务。
    
- **权限校验**：代理模式拦截请求，检查用户权限后再执行操作。
    

---

## **4. 观察者模式（Observer Pattern）**

### **面试题：**

- **观察者模式是什么？适用于哪些场景？**  
    **回答：** 观察者模式用于一对多通知机制，当被观察对象状态变化时，所有观察者都会收到通知。
    

### **业务场景：**

- **事件驱动架构（EDA）**：前端按钮点击触发多个事件监听器执行不同操作。
    
- **消息推送系统**：用户订阅不同频道，发布新消息时自动推送。
    
- **Spring 事件机制**：`ApplicationEventPublisher` 发布事件，多个 `EventListener` 监听并处理。
    

---

## **5. 适配器模式（Adapter Pattern）**

### **面试题：**

- **适配器模式的作用是什么？**  
    **回答：** 适配器模式用于接口转换，让不兼容的类可以一起工作。
    

### **业务场景：**

- **数据库驱动兼容**：统一 `DatabaseAdapter` 适配 MySQL、PostgreSQL，屏蔽底层实现差异。
    
- **日志框架兼容**：适配不同日志框架（Log4j、SLF4J）。
    
- **支付网关对接**：适配不同支付平台接口，提供统一 API。
    

---

## **6. 策略模式（Strategy Pattern）**

### **面试题：**

- **策略模式是什么？与工厂模式的区别？**  
    **回答：** 策略模式封装多个算法，让它们可以互相替换。工厂模式用于创建对象，策略模式用于动态选择行为。
    

### **业务场景：**

- **支付方式选择**：用户选择微信、支付宝或银行卡支付，系统使用不同策略计算费用。
    
- **排序算法选择**：根据数据规模动态切换快速排序、归并排序。
    
- **日志格式化**：不同日志级别使用不同格式。
    

---

## **7. 桥接模式（Bridge Pattern）**

### **面试题：**

- **桥接模式的作用是什么？**  
    **回答：** 桥接模式将抽象和实现解耦，使它们可以独立变化。
    

### **业务场景：**

- **消息发送系统**：消息类型（短信、邮件）与发送渠道（阿里云、腾讯云）解耦，支持任意组合。
    
- **设备管理系统**：设备（电视、音响）与控制方式（遥控器、手机）分离，支持不同控制方式扩展。
    

---

## **8. 责任链模式（Chain of Responsibility Pattern）**

### **面试题：**

- **责任链模式是什么？适用于哪些场景？**  
    **回答：** 责任链模式让多个处理器依次处理请求，降低耦合。
    

### **业务场景：**

- **请求过滤器**：拦截器链处理用户请求（权限校验、参数校验、日志记录）。
    
- **审批流程**：订单审批依次经过组长、经理、总监。
    
- **日志处理**：日志按级别过滤，不同级别日志流向不同处理器。
    

---

这份文档涵盖了多个**经典设计模式**，并详细描述了**实际业务场景**，方便理解和应用！🚀