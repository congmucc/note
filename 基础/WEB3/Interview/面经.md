

## 面经
[Solana](Solana.md)

## L2概念

[L0 L1 L2](../基础知识/Mantle-Network/Mantle-Network)
- **Layer 0**是数据传输层，指的就是区块链最基础的底层协议，也就是节点之间传递讯息的通讯层，负责基础的数据传递及建立共识达成效率。
- **Layer 1**是底层区块链。比特币(BTC)、以太坊(ETH)、币安智能链(BNB)和Solana都属于Layer-1协议。
- **Layer2**又称链下扩容，指不改变区块链底层协议和基础规则，通过状态通道、侧链，乐观卷积，zk，等方案提高交易处理速度。
- **Layer3**指的是应用层。 DAO， DID


## MEV 最大可提取价值 && 优先费
> (Maximum Extractable Value)



## LUT
> 1、先解释v0，-> message是含有地址查找表-> 作用，-> 本公司的multiple call


## 安全
[合约安全漏洞](../基础知识/合约安全漏洞/合约安全漏洞.md)


## 降低gas

[EVM](../基础知识/WEB3基础/WEB3基础.md#^b9d849)
[Solana](../基础知识/Solana/Solana.md#^72f9e0)

> 组成：
> 基本费用，受网络影响，指令大小，执行成本（计算费用（逻辑方面），存储费用（写入））
> 三个层面：
> 1、代码层面： 减少读写，使用循环，序列化
> 2、合约交互层面：地址查找表，网络状态
> 3、人工交流层面：减少参数，或者合并参数


## 项目

[amm](amm.md)




## Other
1、rust内存模型（1. **所有权 (Ownership)**，2. **借用 (Borrowing)**，3. **生命周期 (Lifetimes)**，4. **栈和堆 (Stack and Heap)**，5. **并发和原子性**）
2、扫块多线程优化方式：整合一个拿队列进行保存入库。
3、gas组成（Gas Fee = Gas Used * Gas Price，Gas 可以分为两个主要组成部分：**Gas Limit** 和 **Gas Price**。）

- **基础费用（Intrinsic Gas Cost）**：与交易的基本数据（如签名、接收者地址等）相关的固定成本。每笔交易都有最低的 21,000 gas 作为基础费用。
- **执行成本（Execution Gas Cost）**：与实际执行的操作有关，比如存储、计算等。智能合约的每个操作（如存储写入、函数调用、循环等）都有特定的 gas 消耗。
4、layer2是什么，layer1和layer2如何通信（状态通道）
5、双花问题
6、[区块链｜ 期望35K｜腾讯2轮面经，感觉区块链方向一点都不卷 (qq.com)](https://mp.weixin.qq.com/s/21_WEWEprfP7BEWZ9rrhwQ)
7、Mev问题（三明治攻击等等）
8、入库的事务如何处理。
9、对于solana的账户数据泄露（猜数游戏）
10、如何节约gas



###  OKX

#### **LUT**

| **LUT 用途**  | **Ethereum（EVM）**  | **Solana**       |
| ----------- | ------------------ | ---------------- |
| **优化计算**    | 预计算数学/哈希值，加速智能合约   | 不适用              |
| **Gas 费优化** | 使用 `mapping` 作为查找表 | 通过 LUT 减少交易大小    |
| **地址管理**    | 依赖合约内存储            | 使用 LUT 存储和复用账户地址 |
| **交易优化**    | 通过数据存储减少计算         | 降低账户管理成本，提高交易吞吐量 |

#### defi/nft相关协议
| **类别**       | **协议（Ethereum）**   | **协议（Solana）**     |
| ------------ | ------------------ | ------------------ |
| **DEX（交易所）** | Uniswap, SushiSwap | Raydium, Orca      |
| **借贷**       | Aave, Compound     | Solend             |
| **衍生品**      | dYdX               | Mango Markets      |
| **稳定币**      | DAI, USDC          | USDC               |
| **资产管理**     | Yearn Finance      | Jupiter            |
| **NFT 交易市场** | OpenSea, Blur      | Magic Eden, Tensor |
| **NFT 借贷**   | BendDAO, NFTfi     | Sharky.fi          |
| **NFT 碎片化**  | Fractional.art     | -                  |
| **NFT 发行**   | Manifold           | Metaplex           |


| **链**        | **协议/标准**               | **特点**                | **示例**                |
| ------------ | ----------------------- | --------------------- | --------------------- |
| **Ethereum** | ERC-721                 | 单一 NFT 标准             | CryptoPunks, BAYC     |
|              | ERC-1155                | 可同时支持 FT & NFT，减少 Gas | Enjin, Gods Unchained |
|              | ERC-2981                | NFT 版税标准              | OpenSea, LooksRare    |
| **Solana**   | Metaplex Token Metadata | Solana 主要 NFT 标准      | Okay Bears, DeGods    |
|              | Compressed NFTs (cNFTs) | 适合大规模 NFT 发行，存储优化     | Tensor Market, DRiP   |
| **Sui**      | Move NFT                | 基于 Move 语言，对象化存储      | Sui Kiosk             |
| **TON**      | TON NFT                 | 适用于 Telegram 生态       | TON DNS               |

#### 报价算法
| **类型**                    | **适用场景**          | **示例协议**                        |
| ------------------------- | ----------------- | ------------------------------- |
| **AMM（自动做市商）**            | DeFi DEX（去中心化交易所） | Uniswap、Sushiswap、Curve、Raydium |
| **订单簿（Order Book）**       | DeFi 交易、NFT 交易    | Serum、dYdX、NFT 市场               |
| **预言机定价（Oracles）**        | DeFi 贷款、合成资产      | Chainlink、Pyth、Switchboard      |
| **拍卖定价（Auction Pricing）** | NFT 交易、IDO、MEV 竞拍 | OpenSea、Magic Eden、Seaport      |
| **指数定价（Index Pricing）**   | ETF、指数基金          | NFTX、Synthetix、Balancer         |
|                           |                   |                                 |





Miner 是从什么方式获取到待打包的 Transactions? 
Miner 是基于什么样策略从 Transaction Pool 中选择 Transaction 呢？
被选择的 Transactions 又是以怎样的顺序(Order)被打包到区块中的呢？
在执行 Transaction 的 EVM 是怎么计算 gas used，从而限定 Block 中 Transaction 的数量?
剩余的 gas 又是怎么返还给 Transaction Proposer 的呢？
EVM 是怎么解释 Contract Code 的 Message Call 并执行的呢？
在执行 Transaction 时，是什么模块，怎样去修改 Contract 中持久化变量？
Smart Contract 中的持久化变量是以什么样的形式存储？又是存储在什么地方？
当新的 Block 更新到 Blockchain 中时，World State 又是在什么时机，以什么方式更新的呢？
哪些数据常驻内存，哪些数据需要保存在 Disk 中呢？