åœ¨é¢è¯•ä¸­ï¼Œè®¾è®¡æ¨¡å¼æ˜¯ä¸€ä¸ªé‡è¦çš„è€ƒå¯Ÿç‚¹ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›**å¸¸è§çš„è®¾è®¡æ¨¡å¼é¢è¯•é¢˜**ï¼Œå¹¶é™„ä¸Šç®€è¦å›ç­”å’Œç¤ºä¾‹ä»£ç ã€‚

---

## **1. å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰**

### **é¢è¯•é¢˜ï¼š**

1. **ä»€ä¹ˆæ˜¯å•ä¾‹æ¨¡å¼ï¼Ÿå¦‚ä½•å®ç°å•ä¾‹æ¨¡å¼ï¼Ÿ**
    
2. **é¥¿æ±‰å¼å’Œæ‡’æ±‰å¼å•ä¾‹çš„åŒºåˆ«ï¼Ÿ**
    
3. **å¦‚ä½•ä¿è¯å•ä¾‹çš„çº¿ç¨‹å®‰å…¨ï¼Ÿ**
    
4. **å¦‚ä½•é˜²æ­¢åå°„å’Œåºåˆ—åŒ–ç ´åå•ä¾‹ï¼Ÿ**
    

### **ç®€è¦å›ç­”ï¼š**

- **å•ä¾‹æ¨¡å¼** ç¡®ä¿ä¸€ä¸ªç±»åªæœ‰**ä¸€ä¸ªå®ä¾‹**ï¼Œå¹¶æä¾›ä¸€ä¸ªå…¨å±€è®¿é—®ç‚¹ã€‚
    
- **æ‡’æ±‰å¼ï¼ˆLazy Initializationï¼‰**ï¼šåœ¨**ç¬¬ä¸€æ¬¡ä½¿ç”¨**æ—¶åˆ›å»ºå®ä¾‹ï¼Œä½†éœ€è¦**åŠ é”**ç¡®ä¿çº¿ç¨‹å®‰å…¨ã€‚
    
- **é¥¿æ±‰å¼ï¼ˆEager Initializationï¼‰**ï¼šç±»åŠ è½½æ—¶ç›´æ¥åˆ›å»ºå®ä¾‹ï¼Œçº¿ç¨‹å®‰å…¨ä½†å¯èƒ½**æµªè´¹èµ„æº**ã€‚
    
- **é˜²æ­¢åå°„ç ´å**ï¼šåœ¨æ„é€ æ–¹æ³•é‡Œ**æ£€æµ‹å®ä¾‹æ˜¯å¦å·²å­˜åœ¨**ã€‚
    
- **é˜²æ­¢åºåˆ—åŒ–ç ´å**ï¼šé‡å†™ `readResolve()` æ–¹æ³•ï¼Œè¿”å›**å·²å­˜åœ¨çš„å®ä¾‹**ã€‚
    

### **ç¤ºä¾‹ä»£ç ï¼ˆæ‡’æ±‰å¼ + åŒé‡æ£€æŸ¥é”ï¼‰**

```java
public class Singleton {
    private static volatile Singleton instance;

    private Singleton() {} // ç§æœ‰æ„é€ æ–¹æ³•ï¼Œé˜²æ­¢å¤–éƒ¨å®ä¾‹åŒ–

    public static Singleton getInstance() {
        if (instance == null) {
            synchronized (Singleton.class) {
                if (instance == null) {
                    instance = new Singleton();
                }
            }
        }
        return instance;
    }
}
```

---

## **2. å·¥å‚æ¨¡å¼ï¼ˆFactory Patternï¼‰**

### **é¢è¯•é¢˜ï¼š**

1. **å·¥å‚æ¨¡å¼çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ**
    
2. **å·¥å‚æ¨¡å¼å’Œç®€å•å·¥å‚æ¨¡å¼çš„åŒºåˆ«ï¼Ÿ**
    
3. **æŠ½è±¡å·¥å‚å’Œå·¥å‚æ–¹æ³•çš„åŒºåˆ«ï¼Ÿ**
    

### **ç®€è¦å›ç­”ï¼š**

- **å·¥å‚æ¨¡å¼** ç”¨äº**å°è£…å¯¹è±¡åˆ›å»ºé€»è¾‘**ï¼Œæé«˜**è§£è€¦æ€§**ã€‚
    
- **ç®€å•å·¥å‚æ¨¡å¼**ï¼ˆStatic Factoryï¼‰ï¼š**ä¸€ä¸ªå·¥å‚ç±»**è´Ÿè´£åˆ›å»ºæ‰€æœ‰å¯¹è±¡ã€‚
    
- **å·¥å‚æ–¹æ³•æ¨¡å¼**ï¼šæ¯ä¸ªå­ç±»å®ç°**è‡ªå·±çš„å·¥å‚æ–¹æ³•**ï¼Œæ›´ç¬¦åˆ**å¼€é—­åŸåˆ™**ï¼ˆOCPï¼‰ã€‚
    
- **æŠ½è±¡å·¥å‚æ¨¡å¼**ï¼šæä¾›**å¤šä¸ªå·¥å‚æ–¹æ³•**ï¼Œé€‚ç”¨äº**äº§å“æ—**ï¼ˆå¦‚ä¸åŒå“ç‰Œçš„æ‰‹æœºå’Œç”µè„‘ï¼‰ã€‚
    

### **ç¤ºä¾‹ä»£ç ï¼ˆå·¥å‚æ–¹æ³•æ¨¡å¼ï¼‰**

```java
// æŠ½è±¡äº§å“
interface Product {
    void use();
}

// å…·ä½“äº§å“ A
class ProductA implements Product {
    public void use() { System.out.println("ä½¿ç”¨äº§å“ A"); }
}

// å·¥å‚æ¥å£
interface Factory {
    Product createProduct();
}

// å…·ä½“å·¥å‚ A
class FactoryA implements Factory {
    public Product createProduct() { return new ProductA(); }
}

// ä½¿ç”¨
public class FactoryMethodDemo {
    public static void main(String[] args) {
        Factory factory = new FactoryA();
        Product product = factory.createProduct();
        product.use();
    }
}
```

---

## **3. ä»£ç†æ¨¡å¼ï¼ˆProxy Patternï¼‰**

### **é¢è¯•é¢˜ï¼š**

1. **ä»€ä¹ˆæ˜¯ä»£ç†æ¨¡å¼ï¼Ÿ**
    
2. **é™æ€ä»£ç† vs åŠ¨æ€ä»£ç†çš„åŒºåˆ«ï¼Ÿ**
    
3. **JDK åŠ¨æ€ä»£ç†å’Œ CGLIB ä»£ç†çš„åŒºåˆ«ï¼Ÿ**
    

### **ç®€è¦å›ç­”ï¼š**

- **ä»£ç†æ¨¡å¼** è®©ä»£ç†å¯¹è±¡ä»£æ›¿**çœŸå®å¯¹è±¡**æ‰§è¡ŒæŸäº›æ“ä½œï¼ˆå¦‚æ—¥å¿—ã€æƒé™æ§åˆ¶ã€äº‹åŠ¡ç®¡ç†ï¼‰ã€‚
    
- **é™æ€ä»£ç†**ï¼šç¼–è¯‘æ—¶ç¡®å®šï¼Œæ‰‹å†™ä»£ç†ç±»ï¼Œ**ä¸çµæ´»**ã€‚
    
- **JDK åŠ¨æ€ä»£ç†**ï¼šåŸºäº `InvocationHandler`ï¼Œ**åªèƒ½ä»£ç†æ¥å£**ã€‚
    
- **CGLIB ä»£ç†**ï¼šåŸºäº**å­—èŠ‚ç ç”Ÿæˆ**ï¼Œèƒ½ä»£ç†**ç±»**ï¼Œæ¯” JDK ä»£ç†æ›´å¼ºå¤§ã€‚
    

### **ç¤ºä¾‹ä»£ç ï¼ˆJDK åŠ¨æ€ä»£ç†ï¼‰**

```java
import java.lang.reflect.InvocationHandler;
import java.lang.reflect.Method;
import java.lang.reflect.Proxy;

// æ¥å£
interface Service {
    void doSomething();
}

// çœŸå®å¯¹è±¡
class RealService implements Service {
    public void doSomething() {
        System.out.println("æ‰§è¡ŒçœŸå®ä¸šåŠ¡é€»è¾‘");
    }
}

// åŠ¨æ€ä»£ç†
class ProxyHandler implements InvocationHandler {
    private Object target;

    public ProxyHandler(Object target) {
        this.target = target;
    }

    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
        System.out.println("å‰ç½®æ“ä½œ...");
        Object result = method.invoke(target, args);
        System.out.println("åç½®æ“ä½œ...");
        return result;
    }
}

// æµ‹è¯•ä»£ç†
public class DynamicProxyDemo {
    public static void main(String[] args) {
        Service realService = new RealService();
        Service proxy = (Service) Proxy.newProxyInstance(
                realService.getClass().getClassLoader(),
                realService.getClass().getInterfaces(),
                new ProxyHandler(realService)
        );
        proxy.doSomething();
    }
}
```

---

## **4. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰**

### **é¢è¯•é¢˜ï¼š**

1. **ä»€ä¹ˆæ˜¯è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ**
    
2. **è§‚å¯Ÿè€…æ¨¡å¼é€‚ç”¨äºå“ªäº›åœºæ™¯ï¼Ÿ**
    
3. **å¦‚ä½•ç”¨ Java å®ç°è§‚å¯Ÿè€…æ¨¡å¼ï¼Ÿ**
    

### **ç®€è¦å›ç­”ï¼š**

- **è§‚å¯Ÿè€…æ¨¡å¼** è®©ä¸€ä¸ªå¯¹è±¡ï¼ˆè¢«è§‚å¯Ÿè€…ï¼‰åœ¨çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶**è‡ªåŠ¨é€šçŸ¥å¤šä¸ªè§‚å¯Ÿè€…**ï¼Œå®ç°**è§£è€¦**ã€‚
    
- é€‚ç”¨äº **äº‹ä»¶é©±åŠ¨**ï¼ˆå¦‚ GUI äº‹ä»¶ã€æ¶ˆæ¯é˜Ÿåˆ—ã€ç›‘å¬æ¨¡å¼ï¼‰ã€‚
    
- Java æä¾› `Observer` å’Œ `Observable`ï¼Œä½†æ›´æ¨èä½¿ç”¨**è‡ªå®šä¹‰å®ç°**æˆ– **Spring äº‹ä»¶æœºåˆ¶**ã€‚
    

### **ç¤ºä¾‹ä»£ç **

```java
import java.util.ArrayList;
import java.util.List;

// è§‚å¯Ÿè€…æ¥å£
interface Observer {
    void update(String message);
}

// å…·ä½“è§‚å¯Ÿè€…
class User implements Observer {
    private String name;
    
    public User(String name) { this.name = name; }
    
    public void update(String message) {
        System.out.println(name + " æ”¶åˆ°é€šçŸ¥ï¼š" + message);
    }
}

// è¢«è§‚å¯Ÿè€…
class WeChatPublicAccount {
    private List<Observer> observers = new ArrayList<>();

    public void addObserver(Observer observer) { observers.add(observer); }
    public void removeObserver(Observer observer) { observers.remove(observer); }
    public void notifyObservers(String message) {
        for (Observer observer : observers) {
            observer.update(message);
        }
    }
}

// æµ‹è¯•
public class ObserverPatternDemo {
    public static void main(String[] args) {
        WeChatPublicAccount account = new WeChatPublicAccount();
        
        Observer user1 = new User("Alice");
        Observer user2 = new User("Bob");
        
        account.addObserver(user1);
        account.addObserver(user2);
        
        account.notifyObservers("æ–°æ–‡ç« å‘å¸ƒå•¦ï¼");
    }
}
```

---

## **5. é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰**

### **é¢è¯•é¢˜ï¼š**

1. **ä»€ä¹ˆæ˜¯é€‚é…å™¨æ¨¡å¼ï¼Ÿ**
    
2. **é€‚é…å™¨æ¨¡å¼çš„åº”ç”¨åœºæ™¯ï¼Ÿ**
    
3. **ç±»é€‚é…å™¨ vs å¯¹è±¡é€‚é…å™¨çš„åŒºåˆ«ï¼Ÿ**
    

### **ç®€è¦å›ç­”ï¼š**

- **é€‚é…å™¨æ¨¡å¼** ç”¨äº**è½¬æ¢æ¥å£**ï¼Œè®©åŸæœ¬ä¸å…¼å®¹çš„ç±»å¯ä»¥ä¸€èµ·å·¥ä½œã€‚
    
- é€‚ç”¨äº **è€ç³»ç»Ÿå‡çº§ã€åº“çš„å…¼å®¹æ€§è°ƒæ•´**ã€‚
    
- **ç±»é€‚é…å™¨ï¼ˆç»§æ‰¿ï¼‰**ï¼šé€‚é…å™¨ç»§æ‰¿**ä¸€ä¸ªæ—§ç±»**å¹¶å®ç°**æ–°æ¥å£**ã€‚
    
- **å¯¹è±¡é€‚é…å™¨ï¼ˆç»„åˆï¼‰**ï¼šé€‚é…å™¨**æŒæœ‰ä¸€ä¸ªæ—§ç±»çš„å®ä¾‹**å¹¶è°ƒç”¨å…¶æ–¹æ³•ã€‚
    

---

### **æ€»ç»“**

|**è®¾è®¡æ¨¡å¼**|**ä½œç”¨**|**åº”ç”¨åœºæ™¯**|
|---|---|---|
|**å•ä¾‹æ¨¡å¼**|ç¡®ä¿å…¨å±€å”¯ä¸€å®ä¾‹|æ•°æ®åº“è¿æ¥æ± ã€çº¿ç¨‹æ± |
|**å·¥å‚æ¨¡å¼**|ç»Ÿä¸€åˆ›å»ºå¯¹è±¡|ä¾èµ–æ³¨å…¥ã€æ—¥å¿—æ¡†æ¶|
|**ä»£ç†æ¨¡å¼**|ä»£ç†å¯¹è±¡æ‰§è¡Œä»»åŠ¡|AOPã€RPC|
|**è§‚å¯Ÿè€…æ¨¡å¼**|äº‹ä»¶é©±åŠ¨|ç›‘å¬å™¨ã€æ¶ˆæ¯é˜Ÿåˆ—|
|**é€‚é…å™¨æ¨¡å¼**|æ¥å£è½¬æ¢|æ—§ç³»ç»Ÿå…¼å®¹æ–°æ¥å£|

è¿™äº›éƒ½æ˜¯é¢è¯•ä¸­**æœ€å¸¸è€ƒçš„è®¾è®¡æ¨¡å¼**ï¼Œä½ å¯ä»¥é‡ç‚¹æŒæ¡å®ƒä»¬ ğŸš€ï¼